"use strict";(self.webpackChunknova_poshta=self.webpackChunknova_poshta||[]).push([[409],{9409:function(n,e,t){t.r(e),t.d(e,{default:function(){return Q}});var i=t(1614),r=t(3967),s=t(493),l=t(4852),a=t(7621),o=t(9504),c=t(4554),d=t(9875),h=t(7047),u=t(890),x=t(4721),j=t(1889),Z=t(6151),g=t(535),m=t(7537),f=t(257),p=t(9434),b=function(n){return n.tnn.tnn},v=function(n){return n.tnn.tnnList},k=function(n){return n.tnn.queryTnn},C=function(n){return n.tnn.isLoading},y=function(n){return n.tnn.error},w=t(7405),D=t(9439),T=t(2791),L=t(2554),S=t(6934),P=t(4708),R=t(5519),W=t(1748),H=t(5193),M=t(8980),A=t(6647),F=t(2363),I=t(184),B=function(n){var e=n.ttn,t=n.onTnnListClickHandler,i=n.onTnnDeleteClickHandler;return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(j.ZP,{item:!0,xs:12,sm:6,md:4,"data-tnn":e,children:(0,I.jsx)(l.ZP,{sx:{minWidth:275},children:(0,I.jsx)(M.Z,{in:!0,children:(0,I.jsxs)(a.Z,{sx:{width:"100%"},children:[(0,I.jsx)(A.Z,{children:(0,I.jsx)(o.Z,{onClick:t,"data-tnn":e,children:(0,I.jsx)(u.Z,{onClick:t,sx:{textAlign:"center"},"data-tnn":e,children:e})})}),(0,I.jsx)(F.Z,{children:(0,I.jsx)(Z.Z,{fullWidth:!0,"data-tnn":e,onClick:i,children:"\u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438"})})]})})})},e)})},N=(0,S.ZP)("div")((function(n){var e=n.theme;return{height:"100%",backgroundColor:"light"===e.palette.mode?R.Z[100]:e.palette.background.default}})),O=(0,S.ZP)(c.Z)((function(n){return{backgroundColor:"light"===n.theme.palette.mode?"#fff":R.Z[800]}})),V=(0,S.ZP)(c.Z)((function(n){return{width:30,height:6,backgroundColor:"light"===n.theme.palette.mode?R.Z[300]:R.Z[900],borderRadius:3,position:"absolute",top:8,left:"calc(50% - 15px)"}}));var _=function(n){var e=n.window,t=n.tnnListData,i=n.onTnnListClickHandler,r=n.onTnnDeleteClickHandler,s=T.useState(!1),l=(0,D.Z)(s,2),a=l[0],o=l[1],d=function(n){return function(){o(n)}},h=void 0!==e?function(){return e().document.body}:void 0;return(0,H.Z)((function(n){return n.breakpoints.down("md")}))?(0,I.jsxs)(N,{children:[(0,I.jsx)(P.ZP,{}),(0,I.jsx)(L.xB,{styles:{".MuiDrawer-root > .MuiPaper-root":{height:"calc(50% - ".concat(56,"px)"),overflow:"visible"}}}),(0,I.jsx)(c.Z,{sx:{textAlign:"center",display:{md:"none"}},children:(0,I.jsx)(Z.Z,{fullWidth:!0,onClick:d(!0),children:"\u0412\u0456\u0434\u043a\u0440\u0438\u0442\u0438 \u0456\u0441\u0442\u043e\u0440\u0456\u044e"})}),(0,I.jsxs)(W.Z,{container:h,anchor:"bottom",open:a,onClose:d(!1),onOpen:d(!0),swipeAreaWidth:56,disableSwipeToOpen:!1,ModalProps:{keepMounted:!0},children:[(0,I.jsxs)(O,{sx:{position:"absolute",top:-56,borderTopLeftRadius:8,borderTopRightRadius:8,visibility:"visible",right:0,left:0},children:[(0,I.jsx)(V,{}),(0,I.jsxs)(u.Z,{sx:{p:2,color:"text.secondary"},children:["\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0456\u0432: ",t.length]})]}),(0,I.jsx)(O,{sx:{px:2,pb:2,height:"100%",overflow:"auto"},children:t&&t.map((function(n){return(0,I.jsx)(B,{ttn:n,onTnnListClickHandler:i,onTnnDeleteClickHandler:r},n)}))})]})]}):null},q=function(){var n=(0,p.v9)(b),e=(0,p.v9)(v),t=(0,r.Z)(),i=(0,p.v9)(y),k=(0,p.v9)(C),D=(0,p.I0)(),T=n.data,L=n.errors,S=function(n){D((0,w.Mw)(n.target.dataset.tnn))},P=function(n){D((0,w.Mw)("")),D((0,w.vS)(n.target.dataset.tnn))};return(0,I.jsxs)(I.Fragment,{children:[i&&"Something went wrong: ".concat(i),L&&L[0],(0,I.jsx)(s.Z,{children:!i&&T&&T.map((function(n){return(0,I.jsx)(l.ZP,{sx:{width:"100%"},children:(0,I.jsx)(a.Z,{sx:{width:"100%"},children:(0,I.jsxs)(o.Z,{children:[(0,I.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,I.jsx)(d.Z,{sx:{marginRight:t.spacing(4),marginLeft:t.spacing(2)},children:(0,I.jsx)(g.Z,{})}),(0,I.jsxs)(c.Z,{sx:{width:"100%"},children:[k?(0,I.jsx)(h.Z,{}):(0,I.jsxs)(u.Z,{children:["\u0421\u0442\u0430\u0442\u0443\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438:"," ",n.Status.length?n.Status:"\u0434\u0430\u043d\u0456 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456..."]}),k?(0,I.jsx)(h.Z,{}):(0,I.jsxs)(u.Z,{variant:"body2",color:"grey",mb:1,children:["\u0414\u0430\u0442\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438:"," ",n.TrackingUpdateDate.length?n.TrackingUpdateDate:"\u0434\u0430\u043d\u0456 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456..."]})]})]}),(0,I.jsx)(x.Z,{}),(0,I.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,I.jsx)(d.Z,{sx:{marginRight:t.spacing(4),marginLeft:t.spacing(2)},children:(0,I.jsx)(m.Z,{})}),(0,I.jsxs)(c.Z,{sx:{width:"100%"},children:[k?(0,I.jsx)(h.Z,{}):(0,I.jsxs)(u.Z,{mt:1,children:["\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e:"," ",n.WarehouseSender.length?n.WarehouseSender:"\u0434\u0430\u043d\u0456 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456..."]}),k?(0,I.jsx)(h.Z,{}):(0,I.jsxs)(u.Z,{variant:"body2",color:"grey",mb:1,children:["\u0414\u0430\u0442\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f:"," ",n.DateCreated.length?n.DateCreated:"\u0434\u0430\u043d\u0456 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456..."]})," "]})]}),(0,I.jsx)(x.Z,{}),(0,I.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,I.jsx)(d.Z,{sx:{marginRight:t.spacing(4),marginLeft:t.spacing(2)},children:(0,I.jsx)(f.Z,{})}),(0,I.jsxs)(c.Z,{sx:{width:"100%"},children:[k?(0,I.jsx)(h.Z,{}):(0,I.jsxs)(u.Z,{mt:1,children:["\u041e\u0442\u0440\u0438\u043c\u0430\u043d\u043e:"," ",n.WarehouseRecipient.length?n.WarehouseRecipient:"\u0434\u0430\u043d\u0456 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456..."]}),k?(0,I.jsx)(h.Z,{}):(0,I.jsxs)(u.Z,{variant:"body2",color:"grey",children:["\u0414\u0430\u0442\u0430 \u043f\u0440\u0438\u0431\u0443\u0442\u0442\u044f:"," ",n.ActualDeliveryDate.length?n.ActualDeliveryDate:"\u0434\u0430\u043d\u0456 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456..."]})," "]})]}),(0,I.jsx)(x.Z,{})]})})},n.Number)}))}),(0,I.jsx)(u.Z,{ml:2,children:" \u0406\u0441\u0442\u043e\u0440\u0456\u044f \u043f\u043e\u0448\u0443\u043a\u0443: "}),(0,I.jsx)(_,{tnnListData:e,onTnnListClickHandler:S,onTnnDeleteClickHandler:P}),(0,I.jsx)(s.Z,{sx:{display:{xs:"none",md:"flex"}},children:(0,I.jsx)(j.ZP,{container:!0,spacing:2,children:e&&e.map((function(n){return(0,I.jsx)(B,{ttn:n,onTnnListClickHandler:S,onTnnDeleteClickHandler:P},n)}))})}),0!==e.length&&(0,I.jsx)(Z.Z,{onClick:function(n){D((0,w.GR)())},fullWidth:!0,mb:8,children:"\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u0438 \u0456\u0441\u0442\u043e\u0440\u0456\u044e"})]})},E=t(4280),U=t(3239),z=t(2633),G=t(5705),K=t(6727),$=K.Ry({tnn:K.Z_().matches(/^[0-9]{14}$/,"\u0422\u0422\u041d \u043c\u0430\u0454 \u043c\u0430\u0442\u0438 \u0434\u043e\u0432\u0436\u0438\u043d\u0443 14 \u0446\u0438\u0444\u0440").required("\u0422\u0422\u041d \u043d\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u043e")}),J=function(){var n=(0,p.I0)(),e=(0,r.Z)(),t=(0,p.v9)(k),i=(0,p.v9)(C);(0,T.useEffect)((function(){t&&(s.setFieldValue("tnn",t),s.setValues({tnn:t}),s.submitForm())}),[t]);var s=(0,G.TA)({initialValues:{tnn:t},validationSchema:$,onSubmit:function(e){var t={apiKey:"8d677609f6e47ce83929374b3afab572",modelName:"TrackingDocument",calledMethod:"getStatusDocuments",methodProperties:{Documents:[{DocumentNumber:e.tnn,Phone:"380681288223"}]}};n((0,z.E)(t)),n((0,w.OR)(e.tnn))}});return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(c.Z,{component:"form",onSubmit:s.handleSubmit,mt:2,sx:{gap:1},children:[(0,I.jsx)(E.Z,{fullWidth:!0,id:"tnn",name:"tnn",label:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0422\u0422\u041d",value:s.values.tnn,onChange:s.handleChange,error:s.touched.tnn&&Boolean(s.errors.tnn),helperText:s.touched.tnn&&s.errors.tnn,sx:{marginBottom:e.spacing(2)}}),(0,I.jsx)(Z.Z,{fullWidth:!0,mb:1,variant:"contained",color:"primary",disabled:i,type:"submit",children:i?(0,I.jsx)(U.Z,{size:25}):"\u0428\u0443\u043a\u0430\u0442\u0438"})]})})},Q=function(){return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(i.Z,{children:[(0,I.jsx)(J,{}),(0,I.jsx)(q,{})]})})}}}]);
//# sourceMappingURL=409.ba9e975a.chunk.js.map