"use strict";(self.webpackChunknova_poshta=self.webpackChunknova_poshta||[]).push([[409],{9409:function(n,e,t){t.r(e),t.d(e,{default:function(){return G}});var i=t(1614),r=t(493),o=t(4852),s=t(7621),l=t(9504),a=t(7047),c=t(890),d=t(4721),u=t(1889),h=t(6151),x=t(9434),f=function(n){return n.tnn.tnn},m=function(n){return n.tnn.tnnList},j=function(n){return n.tnn.queryTnn},Z=function(n){return n.tnn.isLoading},p=function(n){return n.tnn.error},g=t(7405),b=t(9439),v=t(2791),k=t(2554),C=t(6934),w=t(4708),T=t(5519),D=t(4554),P=t(1748),y=t(5193),S=t(6647),H=t(2363),L=t(184),W=function(n){var e=n.ttn,t=n.onTnnListClickHandler,i=n.onTnnDeleteClickHandler;return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(u.ZP,{item:!0,xs:12,sm:6,md:4,"data-tnn":e,children:(0,L.jsx)(o.ZP,{sx:{minWidth:275},children:(0,L.jsxs)(s.Z,{sx:{width:"100%"},children:[(0,L.jsx)(S.Z,{children:(0,L.jsx)(l.Z,{onClick:t,"data-tnn":e,children:(0,L.jsx)(c.Z,{onClick:t,sx:{textAlign:"center"},"data-tnn":e,children:e})})}),(0,L.jsx)(H.Z,{children:(0,L.jsx)(h.Z,{fullWidth:!0,"data-tnn":e,onClick:i,children:"\u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438"})})]})})},e)})},R=(0,C.ZP)("div")((function(n){var e=n.theme;return{height:"100%",backgroundColor:"light"===e.palette.mode?T.Z[100]:e.palette.background.default}})),M=(0,C.ZP)(D.Z)((function(n){return{backgroundColor:"light"===n.theme.palette.mode?"#fff":T.Z[800]}})),F=(0,C.ZP)(D.Z)((function(n){return{width:30,height:6,backgroundColor:"light"===n.theme.palette.mode?T.Z[300]:T.Z[900],borderRadius:3,position:"absolute",top:8,left:"calc(50% - 15px)"}}));var A=function(n){var e=n.window,t=n.tnnListData,i=n.onTnnListClickHandler,r=n.onTnnDeleteClickHandler,o=v.useState(!1),s=(0,b.Z)(o,2),l=s[0],a=s[1],d=function(n){return function(){a(n)}},u=void 0!==e?function(){return e().document.body}:void 0;return(0,y.Z)((function(n){return n.breakpoints.down("md")}))?(0,L.jsxs)(R,{children:[(0,L.jsx)(w.ZP,{}),(0,L.jsx)(k.xB,{styles:{".MuiDrawer-root > .MuiPaper-root":{height:"calc(50% - ".concat(56,"px)"),overflow:"visible"}}}),(0,L.jsx)(D.Z,{sx:{textAlign:"center",display:{md:"none"}},children:(0,L.jsx)(h.Z,{fullWidth:!0,onClick:d(!0),children:"\u0412\u0456\u0434\u043a\u0440\u0438\u0442\u0438 \u0456\u0441\u0442\u043e\u0440\u0456\u044e"})}),(0,L.jsxs)(P.Z,{container:u,anchor:"bottom",open:l,onClose:d(!1),onOpen:d(!0),swipeAreaWidth:56,disableSwipeToOpen:!1,ModalProps:{keepMounted:!0},children:[(0,L.jsxs)(M,{sx:{position:"absolute",top:-56,borderTopLeftRadius:8,borderTopRightRadius:8,visibility:"visible",right:0,left:0},children:[(0,L.jsx)(F,{}),(0,L.jsxs)(c.Z,{sx:{p:2,color:"text.secondary"},children:["\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0456\u0432: ",t.length]})]}),(0,L.jsx)(M,{sx:{px:2,pb:2,height:"100%",overflow:"auto"},children:t&&t.map((function(n){return(0,L.jsx)(W,{ttn:n,onTnnListClickHandler:i,onTnnDeleteClickHandler:r},n)}))})]})]}):null},B=function(){var n=(0,x.v9)(f),e=(0,x.v9)(m),t=(0,x.v9)(p),i=(0,x.v9)(Z),j=(0,x.I0)(),b=n.data,v=n.errors,k=function(n){j((0,g.Mw)(n.target.dataset.tnn))},C=function(n){j((0,g.Mw)("")),j((0,g.vS)(n.target.dataset.tnn))};return(0,L.jsxs)(L.Fragment,{children:[t&&"Something went wrong: ".concat(t),v&&v[0],(0,L.jsx)(r.Z,{children:!t&&b&&b.map((function(n){return(0,L.jsx)(o.ZP,{sx:{width:"100%"},children:(0,L.jsx)(s.Z,{sx:{width:"100%"},children:(0,L.jsxs)(l.Z,{children:[i?(0,L.jsx)(a.Z,{}):(0,L.jsxs)(c.Z,{children:["\u0421\u0442\u0430\u0442\u0443\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438: ",n.Status]}),(0,L.jsx)(d.Z,{}),i?(0,L.jsx)(a.Z,{}):(0,L.jsxs)(c.Z,{children:["\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e: ",n.WarehouseSender]}),(0,L.jsx)(d.Z,{}),i?(0,L.jsx)(a.Z,{}):(0,L.jsxs)(c.Z,{children:["\u041e\u0442\u0440\u0438\u043c\u0430\u043d\u043e: ",n.WarehouseRecipient]}),(0,L.jsx)(d.Z,{})]})})},n.Number)}))}),(0,L.jsx)(c.Z,{ml:2,children:" \u0406\u0441\u0442\u043e\u0440\u0456\u044f \u043f\u043e\u0448\u0443\u043a\u0443: "}),(0,L.jsx)(A,{tnnListData:e,onTnnListClickHandler:k,onTnnDeleteClickHandler:C}),(0,L.jsx)(r.Z,{sx:{display:{xs:"none",md:"flex"}},children:(0,L.jsx)(u.ZP,{container:!0,spacing:2,children:e&&e.map((function(n){return(0,L.jsx)(W,{ttn:n,onTnnListClickHandler:k,onTnnDeleteClickHandler:C},n)}))})}),0!==e.length&&(0,L.jsx)(h.Z,{onClick:function(n){j((0,g.GR)())},fullWidth:!0,mb:8,children:"\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u0438 \u0456\u0441\u0442\u043e\u0440\u0456\u044e"})]})},N=t(3967),O=t(7665),V=t(3239),_=t(2633),q=t(5705),E=t(6727),I=E.Ry({tnn:E.Z_().matches(/^[0-9]{14}$/,"\u0422\u0422\u041d \u043c\u0430\u0454 \u043c\u0430\u0442\u0438 \u0434\u043e\u0432\u0436\u0438\u043d\u0443 14 \u0446\u0438\u0444\u0440").required("\u0422\u0422\u041d \u043d\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u043e")}),z=function(){var n=(0,x.I0)(),e=(0,N.Z)(),t=(0,x.v9)(j),i=(0,x.v9)(Z);(0,v.useEffect)((function(){t&&(r.setFieldValue("tnn",t),r.setValues({tnn:t}),r.submitForm())}),[t]);var r=(0,q.TA)({initialValues:{tnn:t},validationSchema:I,onSubmit:function(e){var t={apiKey:"8d677609f6e47ce83929374b3afab572",modelName:"TrackingDocument",calledMethod:"getStatusDocuments",methodProperties:{Documents:[{DocumentNumber:e.tnn,Phone:"380681288223"}]}};n((0,_.E)(t)),n((0,g.OR)(e.tnn))}});return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(D.Z,{component:"form",onSubmit:r.handleSubmit,mt:2,sx:{gap:1},children:[(0,L.jsx)(O.Z,{fullWidth:!0,id:"tnn",name:"tnn",label:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0422\u0422\u041d",value:r.values.tnn,onChange:r.handleChange,error:r.touched.tnn&&Boolean(r.errors.tnn),helperText:r.touched.tnn&&r.errors.tnn,sx:{marginBottom:e.spacing(2)}}),(0,L.jsx)(h.Z,{fullWidth:!0,mb:1,variant:"contained",color:"primary",disabled:i,type:"submit",children:i?(0,L.jsx)(V.Z,{size:25}):"\u0428\u0443\u043a\u0430\u0442\u0438"})]})})},G=function(){return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(i.Z,{children:[(0,L.jsx)(z,{}),(0,L.jsx)(B,{})]})})}}}]);
//# sourceMappingURL=409.907bd669.chunk.js.map